Механизм в языке Котлин который решает проблемы асинхронности и паралелизма.

Чтобы использовать корутины функция должна быть помечена ключевым словом [[Suspend - модификатор]]

Корутина может вызываться только в контексте корутин([[coroutines scope]])
А сама корутина определяется и запускается с помощью [[coroutines builder]].

### Корутины и потоки[[Threads( Потоки)]]

В ряде языков программирования есть такие структуры, которые позволяют использовать потоки. Однако между корутинами и потоками нет прямого соответствия. Корутина не привязана к конкретному потоку. Она может быть приостановить выполнение в одном потоке, а возобновить выполнение в другом.

Когда корутина приостанавливает свое выполнение, эта корутина освобождает поток, в котором она выполнялась, и сохраняется в памяти. А освобожденный поток может быть зайдествован для других задач. А когда завершается запущенная задача , корутина возобновляет свою работу в одном из свободных потоков.



 Основная проблема многопоточности это ожидание блокировок. И то что потоки дороги, создание и переключение контекста это дорого.  [[async-await|async-await]]
![[Pasted image 20230619132433.png]]![[Pasted image 20230619132725.png]]

Пример.![[Pasted image 20230619133235.png]]
 