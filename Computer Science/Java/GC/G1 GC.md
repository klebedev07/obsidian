G1 [[GC]] был задуман как замена [[CMS GC]] и разрабатывался для многопоточных приложений, которые характеризуются крупным размером кучи (более 4 ГБ).

Хотя G1 также действует по принципу поколений, в нем нет отдельных пространств для молодого и старшего поколений. Вместо этого каждое поколение представляет собой набор областей, что позволяет гибко изменять размер молодого поколения.

G1 разбивает кучу на набор областей одинакового размера (от 1 МБ до 32 МБ — в зависимости от размера кучи) и сканирует их в несколько потоков. 

Область во время выполнения программы может неоднократно становиться как старой, так и молодой

После завершения этапа разметки G1 знает, в каких областях содержится больше всего мусора. Если пользователь заинтересован в минимизации пауз, G1 может выбрать только несколько областей. Если время паузы неважно для пользователя или предел этого времени установлен высокий, G1 пройдет по большему числу областей.

Поскольку G1 GC идентифицирует регионы с наибольшим количеством мусора и сначала выполняет сбор мусора в них, он и называется: “Мусор — первым”.

G1 может эвакуировать области кучи только тогда, когда приложение приостановлено, а [[Shenandoah]] перемещает объекты одновременно с приложением .

Аргумент JVM для использования сборщика мусора G1:

### -XX:+UseG1GC.

![[Pasted image 20230608213921.png]]